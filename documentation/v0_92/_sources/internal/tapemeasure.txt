TapeMeasure Implementation Notes
================================

.. math::

   v_k = p_{k+1} - p_k

   x = \sum_k \left(v_k^Tv_k\right)^{-\half}


Optimization
------------

Consider:

.. math::

   v_k = g * (\tilde{p}_{k+1} - \tilde{p}_{k})

If neither :math:`p_k` or :math:`p_k` depend on :math:`q_i` then
derivatives are zero.  This is a known optimization that saves a lot
of work.  But supposed they both depend on :math:`q_i`.  Then
:math:`\tilde{p}_{k+1}` cannot depend on :math:`q_i`, so both terms on
the right are zero, and the derivative is also zero.  Therefore, the
derivative is only non-zero for configuration variables that depend on
either one frame or the other, but not both.



